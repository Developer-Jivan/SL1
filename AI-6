graph = {
    'A': {'B': 1, 'C': 4},
    'B': {'C': 2, 'D': 5},
    'C': {'D': 1},
    'D': {}
}

# Step 1: Initialize distances
dist = {}
for node in graph:
    dist[node] = float('inf')  # set all distances to infinity

start = 'A'
dist[start] = 0  # distance from A to A is 0

visited = []  # to keep track of visited nodes

# Step 2: Loop until all nodes are visited
while len(visited) < len(graph):
    # Find the unvisited node with the smallest distance
    smallest_distance = float('inf')
    current = None
    for node in graph:
        if node not in visited and dist[node] < smallest_distance:
            smallest_distance = dist[node]
            current = node

    visited.append(current)  # mark it as visited

    # Step 3: Update distances to its neighbors
    for neighbor in graph[current]:
        new_distance = dist[current] + graph[current][neighbor]
        if new_distance < dist[neighbor]:
            dist[neighbor] = new_distance
