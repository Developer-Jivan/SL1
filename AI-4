N = 8 # Change to 8 for 8-Queens

board = [-1] * N  # board[i] = column of queen in row i

def safe(row, col):
    for r in range(row):
        c = board[r]
        if c == col or abs(c - col) == abs(r - row):
            return False
    return True

def solve(row=0):
    if row == N:
        print(board)
        for r in range(N):
            print(" ".join("Q" if board[r] == c else "." for c in range(N)))
        print()
        return True

    for col in range(N):
        if safe(row, col):
            board[row] = col
            if solve(row + 1):
                return True
            board[row] = -1  # backtrack
    return False

solve()
